schema: '2.0'
stages:
  split:
    cmd: python src/modeling.py split-data data/student-mat.csv data/processed/training.csv
      data/processed/test.csv
    deps:
    - path: data/student-mat.csv
      md5: 1bf5851f1f85bff8d109b872a144272b
      size: 41986
    params:
      params.yaml:
        split.test_size: 0.5
    outs:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
  train:
    cmd: python src/modeling.py make-model data/processed/training.csv models/model.pkl
    deps:
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
    params:
      params.yaml:
        model.n_estimators: 10
        model.subsample: 0.4
    outs:
    - path: models/model.pkl
      md5: 9449018be9978cf927cca3db0c1a6930
      size: 13670
  predict:
    cmd: python src/modeling.py predict models/model.pkl data/processed/test.csv data/output/preds.pkl
    deps:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: models/model.pkl
      md5: 9449018be9978cf927cca3db0c1a6930
      size: 13670
    outs:
    - path: data/output/preds.pkl
      md5: 83d3062aa7da33f5673998d4cb022be9
      size: 3320
  evaluate:
    cmd: python src/modeling.py evaluate data/output/preds.pkl data/processed/test.csv
      scores.json pr_curve.json
    deps:
    - path: data/output/preds.pkl
      md5: 83d3062aa7da33f5673998d4cb022be9
      size: 3320
    outs:
    - path: data/output/results.csv
      md5: f245a6885d1d644ddc5152941c614397
      size: 807
    - path: pr_curve.json
      md5: 8a7dd2cc9dbe44721f1c027e5feb0952
      size: 16552
    - path: scores.json
      md5: 73229ee83ef5b1e167bca1d3ba2cc0ee
      size: 85
