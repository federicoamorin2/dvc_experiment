schema: '2.0'
stages:
  split:
    cmd: python src/modeling.py split-data data/student-mat.csv data/processed/training.csv
      data/processed/test.csv
    deps:
    - path: data/student-mat.csv
      md5: 1bf5851f1f85bff8d109b872a144272b
      size: 41986
    params:
      params.yaml:
        split.test_size: 0.5
    outs:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
  train:
    cmd: python src/modeling.py make-model data/processed/training.csv models/model.pkl
    deps:
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
    params:
      params.yaml:
        model.n_estimators: 100
        model.subsample: 1.0
    outs:
    - path: models/model.pkl
      md5: ff36936a62b9e99641a94427f0be2de7
      size: 95750
  predict:
    cmd: python src/modeling.py predict models/model.pkl data/processed/test.csv data/output/preds.pkl
    deps:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: models/model.pkl
      md5: ff36936a62b9e99641a94427f0be2de7
      size: 95750
    outs:
    - path: data/output/preds.pkl
      md5: 00cbd3dc720aba6b3887b70bda5c7c3e
      size: 3320
  evaluate:
    cmd: python src/modeling.py evaluate data/output/preds.pkl data/processed/test.csv
      scores.json pr_curve.json
    deps:
    - path: data/output/preds.pkl
      md5: 00cbd3dc720aba6b3887b70bda5c7c3e
      size: 3320
    outs:
    - path: data/output/results.csv
      md5: 92f80a5f1971c328b67f2dda02019835
      size: 807
    - path: pr_curve.json
      md5: 7f071dd611601b4825afc43105e76de4
      size: 29607
    - path: scores.json
      md5: 815ac0c359aec78a2afed8cb810a9704
      size: 85
