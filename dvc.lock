schema: '2.0'
stages:
  split:
    cmd: python src/modeling.py split-data data/student-mat.csv data/processed/training.csv
      data/processed/test.csv
    deps:
    - path: data/student-mat.csv
      md5: 1bf5851f1f85bff8d109b872a144272b
      size: 41986
    params:
      params.yaml:
        split.test_size: 0.5
    outs:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
  train:
    cmd: python src/modeling.py make-model data/processed/training.csv models/model.pkl
    deps:
    - path: data/processed/training.csv
      md5: d4b65155318950cae496174f83ccac91
      size: 21750
    outs:
    - path: models/model.pkl
      md5: fd08813c804edc9d044fb73ff03f0bc6
      size: 473231
  predict:
    cmd: python src/modeling.py predict models/model.pkl data/processed/test.csv data/output/preds.pkl
    deps:
    - path: data/processed/test.csv
      md5: 4f7d850048e3dfc03a8e83b718f7d252
      size: 21939
    - path: models/model.pkl
      md5: fd08813c804edc9d044fb73ff03f0bc6
      size: 473231
    outs:
    - path: data/output/preds.pkl
      md5: 8bef429d00dec3ff0e0d3f539524f7d1
      size: 3320
  evaluate:
    cmd: python src/modeling.py evaluate data/output/preds.pkl data/processed/test.csv
      scores.json pr_curve.json
    deps:
    - path: data/output/preds.pkl
      md5: 8bef429d00dec3ff0e0d3f539524f7d1
      size: 3320
    outs:
    - path: data/output/results.csv
      md5: 8e2b3070c66c7ee8123d4034a3393624
      size: 807
    - path: pr_curve.json
      md5: e25e5a0bac2a18b37c69e5108764a6d7
      size: 29612
    - path: scores.json
      md5: 335cddb996a91e29cb20f2d4e41bfa12
      size: 85
